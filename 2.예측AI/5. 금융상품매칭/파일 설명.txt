AI 금융상품 추천 챗봇 시스템 요약

1. 자연어 처리 및 정보 추출
OpenAI GPT-4o-mini API를 활용한 지능형 텍스트 분석으로 사용자의 복잡한 자연어 입력을 구조화된 데이터로 변환합니다.
컨텍스트 기반 정규표현식 패턴 매칭을 폴백 메커니즘으로 구현하여 API 실패 시에도 안정적인 정보 추출이 가능합니다.
"34세 맞벌이 부부, 5살 자녀" 같은 복합 정보에서 자녀 나이와 사용자 나이를 정확히 구분하는 고도화된 파싱 로직을 구현했습니다.
**데이터클래스(UserProfile)**로 타입 안전성을 보장하고 추출된 정보의 신뢰도 점수를 함께 제공합니다.

2. 하이브리드 추천 엔진
사전 학습된 LGBM MultiOutputClassifier가 14개 사용자 특성으로부터 5개 금융상품의 보유 확률을 동시 예측합니다.
확률 기반 임계값 필터링으로 신뢰도가 높은 상품만 선별하여 추천하며, 사용자 요청 상품은 AI 추천보다 우선순위를 갖습니다.
지능적 기본값 추론 시스템이 누락된 정보를 나이/소득/가족구성에 따라 합리적으로 보완하여 모델 입력을 완성합니다.
동적 특성 조정 로직으로 맞벌이 가구의 위험성향 증가, 자녀 보유 시 안전성향 강화 등 실제 금융 행동을 반영합니다.

3. 실시간 상품 데이터 매칭
JSON 파일 기반 상품 데이터베이스에서 예금/적금/대출 상품의 실시간 금리 정보를 로드하고 처리합니다.
상품별 최고/최저 금리 자동 계산으로 baseList와 optionList를 연결하여 고객에게 가장 유리한 조건을 제시합니다.
카테고리별 정렬 알고리즘이 예금/적금은 금리 높은 순, 대출은 금리 낮은 순으로 자동 배열하여 최적 상품을 우선 노출합니다.
파일 오류 처리와 대안 매핑으로 특정 상품 데이터가 없어도 유사 카테고리로 대체 추천하는 견고한 시스템을 구축했습니다.

4. 환경 설정 및 보안 관리
python-decouple을 통한 환경변수 관리로 OpenAI API 키를 안전하게 분리하여 코드 보안을 강화했습니다.
다중 버전 호환성으로 OpenAI API v1.0+ 신버전과 구버전을 모두 지원하는 유연한 아키텍처를 설계했습니다.
sklearn 경고 필터링과 예외 처리로 사용자에게 깔끔한 인터페이스를 제공하며 시스템 안정성을 보장합니다.
모듈화된 클래스 구조로 OpenAIParser, UserProfile, FinancialChatbot을 분리하여 유지보수성과 확장성을 높였습니다.

5. 사용자 경험 최적화
신뢰도 기반 응답 품질 관리로 추출 정확도가 낮을 때 사용자에게 추가 정보 요청을 안내합니다.
맞춤형 응답 포맷팅이 가구소득 vs 개인소득 구분, 투자상품 대안 안내 등 상황별 적절한 설명을 제공합니다.
대화형 CLI 인터페이스와 테스트 모드로 개발자와 사용자 모두에게 편리한 접근성을 제공합니다.
실시간 디버그 로깅으로 파싱 과정과 AI 분석 결과를 투명하게 공개하여 시스템 신뢰성을 높였습니다.

6. 핵심 기술 스택

자연어 처리: OpenAI GPT-4o-mini + 정규표현식 하이브리드
머신러닝: LGBM MultiOutputClassifier (14 features → 5 products)
데이터 처리: JSON 파일 기반 상품 DB + 동적 금리 계산
환경 관리: python-decouple + .env 설정
타입 안전성: 데이터클래스 + Optional 타입 힌팅
에러 처리: 다층 폴백 메커니즘 + 경고 필터링